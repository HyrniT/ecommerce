<section class="breadcrumb-section set-bg" data-setbg="img/breadcrumb.jpg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="breadcrumb__text">
                    <h2>Searching for "{{keyword}}"</h2>
                    <div class="breadcrumb__option">
                        <a href="/">Home</a>
                        <span>Shop</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="product spad">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="filter__item">
                    <div class="row">
                        <div class="col-lg-4 col-md-5">
                            <div class="filter__sort">
                                <span>Sort By</span>
                                <select>
                                    <option value="0">Default</option>
                                    <option value="0">Default</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="filter__found">
                                <h6><span>{{totalProducts}}</span> Products found</h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    {{#each products}}
                    <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="product__item">
                            <div class="product__item__pic set-bg" data-setbg="{{img}}">
                                <ul class="product__item__pic__hover">
                                    <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                    <li><a href="/product/{{id}}"><i class="fa-solid fa-eye"></i></a></li>
                                    <li><a href="#" onclick="addToCart('{{id}}')"><i
                                                class="fa fa-shopping-cart"></i></a></li>
                                </ul>
                            </div>
                            <div class="product__item__text">
                                <h6><a href="/product/{{id}}">{{name}}</a></h6>
                                <h5>{{price}}</h5>
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
                <div class="product__pagination">
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const pages = [];
    const totalPages = {{ totalPages }};
    const currentPage = {{ currentPage }};

    for (let i = 1; i <= totalPages; i++) {
        pages.push(i);
    }

    const paginationDiv = document.querySelector('.product__pagination');

    pages.forEach(page => {
        const aElement = document.createElement('a');
        aElement.href = `/shop?page=${page}`;
        aElement.textContent = page;

        if (page === currentPage) {
            aElement.classList.add('active');
        }

        paginationDiv.appendChild(aElement);
    });
</script>